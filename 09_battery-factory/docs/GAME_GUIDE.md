# Battery Factory 게임 상세 가이드

> 본 문서는 Claude로 제작한 `09_battery-factory` 게임의 **실제 플레이 규칙/조작법/기술 스택 기준 문서(v1)** 입니다.

## 게임 실행 방법

### 1단계: 의존성 설치
```bash
cd C:\dev\pcsql-practice\09_battery-factory\frontend
npm install
```

### 2단계: 개발 서버 실행
```bash
npm run dev
```

### 3단계: 브라우저 접속
서버가 시작되면 다음 주소로 접속:
- **http://localhost:3000/** (기본)
- 포트가 사용 중이면 자동으로 3001, 3002 등으로 변경됩니다

---

## 1) 플레이 방법 (실조작 기준)

### 시작 흐름
1. `Start Game` 버튼을 누르면 라운드가 시작됩니다.
2. 시작 자원은 다음과 같습니다.
   - Lithium: `120`
   - Nickel: `80`
   - Energy: `200`
3. 초기 목표는 제한 시간 내 목표 점수 `1,000`점 달성입니다.

### 기본 조작
- `배터리 생산` 버튼: 1회 클릭 시 배터리 1개 생산 시도
- `라인 냉각` 버튼: 과열 수치(Heat) 즉시 `-20`
- `업그레이드` 버튼: 생산 효율 업그레이드(점수/자원 효율 개선)
- `재고 보충` 버튼: 자원 즉시 보충(점수 패널티 발생)

### 키보드 단축키
- `Space`: 배터리 생산
- `C`: 라인 냉각
- `U`: 업그레이드
- `R`: 재고 보충
- `P`: 일시정지 / 재개

---

## 2) 핵심 규칙 (점수/자원/리스크)

### 생산 비용
배터리 1개 생산 시:
- Lithium `-3`
- Nickel `-2`
- Energy `-5`
- Heat `+4`

### 생산 결과
- 기본 성공률: `92%`
- 성공 시: `+40점`
- 실패(불량) 시: `+5점`, Heat `+2` 추가

### 과열(Heat) 규칙
- Heat가 `80` 이상이면 과열 경고 상태
- Heat가 `100`에 도달하면 라인이 `5초`간 정지(다운타임)
- 다운타임 동안 생산 불가, Heat는 초당 `-6` 자동 감소

### 냉각 규칙
- `라인 냉각` 사용 시 Heat `-20`
- 사용 대기시간(Cooldown): `8초`

### 자원 고갈 규칙
- 필요한 자원이 하나라도 부족하면 생산 불가
- `재고 보충` 사용 시:
  - Lithium `+30`
  - Nickel `+20`
  - Energy `+50`
  - 점수 `-50` 패널티

### 업그레이드 규칙
- 1단계 업그레이드 비용: `150점`
- 업그레이드 효과:
  - 생산 성공률 `+2%`
  - 생산 점수 `+5`
  - Energy 소모 `-1` (최소 2)
- 최대 업그레이드 단계: `5`

### 라운드 클리어 조건
- 기본 라운드 시간: `120초`
- 클리어: `1,000점` 이상
- 실패: 시간 종료 시 `1,000점` 미만

### 난이도 상승 규칙
라운드가 올라갈 때마다:
- 목표 점수 `+250`
- 기본 Heat 증가량 `+1`
- 실패 확률 `+1.5%`

---

## 3) UI 지표 정의

상단 HUD에는 다음 항목이 표시됩니다.
- 현재 점수(Score)
- 남은 시간(Time Left)
- 배터리 총 생산량(Production Count)
- 성공률(Yield)
- Heat 게이지
- 자원(Lithium / Nickel / Energy)

---

## 4) 기술 스택 (구현 기준)

- **HTML5**: 게임 화면 구조 및 UI 레이아웃
- **CSS3**: HUD, 버튼 상태, 경고 애니메이션(과열 경고) 스타일링
- **Vanilla JavaScript (ES6+)**: 게임 루프, 자원 계산, 이벤트 처리
- **LocalStorage**: 최고 점수(High Score) 저장

### 런타임
- 브라우저: Chrome / Edge 최신 버전 권장
- 실행: 정적 파일 기반 (`index.html`) 또는 로컬 서버

---

## 5) 밸런싱 튜닝 포인트

- 게임이 너무 쉬우면:
  - 생산 점수를 낮추거나 목표 점수를 상향
  - Heat 증가량/다운타임 시간을 늘림
- 게임이 너무 어려우면:
  - 시작 자원 증가
  - 냉각 쿨다운 단축
  - 업그레이드 비용 하향

---

## 6) 변경 이력

- v1.0: 플레이 방법 / 핵심 규칙 / 기술 스택 구체화 문서 최초 작성
